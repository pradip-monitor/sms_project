{% extends "crud/base.html" %}
{% load static %}

{% block main-content %}

<div class="container">
 <h2 class="text-center alert alert-warning">CRUD Operations </h2>
 <div class="row">
  <div class="col-md-4">
   <h2 class="text-center alert alert-info my-2">Add Students </h2>
<form action="" method="POST" class="shadow p-3" enctype="multipart/form-data">
   {% csrf_token %}
  {{form.as_p}}
  <input type="submit" class="btn btn-primary m-2" value="Add Student"/> 
</form>
  </div>

<div class="col-md-7 offset-md-1">
   <h2 class="text-center alert alert-info my-2">Show Student information</h2>

   
<div class="table-responsive shadow p-2">
   <table class="table table-hover table-stripped table-responsive table-bordered">
  <thead class="alerts alerts-info">
    <tr class="alert alert-info">
      <th scope="row">Sr.No.</th>
      <th scope="col">ID</th>
      <th scope="col">PIC</th>
      <th scope="col">First Name</th>
      <th scope="col">Last Name</th>
      <th scope="col">Email ID</th>
      <th scope="col">Password</th>
      <th scope="col">Action</th>
    </tr>
  </thead>
  <tbody>
 {% for st in stud %}
    <tr>
    <th scope="row">{{forloop.counter}}</th>
    <th scope="row">{{st.id}}</th>
    <th>
      <img src="{{st.pic.url}}" style="width:30px;height:30px;"></img></th>
      <td>{{st.first_name}}</td>
      <td>{{st.last_name}}</td>
      <td>{{st.email}}</td>
      <td>{{st.password}}</td>
      <td class="d-inline-flex">
<a href="{% url 'update_student' st.id %}" class="btn btn-warning btn-sm"/>Edit</a>
<form action="{% url 'delete_student' st.id %}" method="POST" enctype="multipart/form-data">
  {% csrf_token %}
<input type="submit" class="btn btn-danger ms-1" value="delete"/>

</form>
      </td>
    </tr>
{% endfor %}
  </tbody>
</table>
</div>


  </div>

 </div>
</div>
{% endblock main-content %}
